(this.webpackJsonpyubbefrontend=this.webpackJsonpyubbefrontend||[]).push([[0],{101:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(71),i=a.n(r),o=(a(79),a(2)),l=a.n(o),u=a(3),d=a(4),A=a(5),h=a(7),p=a(6),j=(a(81),a(145)),m=a(8),b=a.n(m);function O(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({url:"http://localhost:5000/api/session",method:"get",headers:{"Access-Control-Allow-Origin":"*",authToken:t.authToken}}).then((function(e){return{approved:200===e.status,data:e.data}})).catch((function(e){return{message:e.toString()}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(99);var g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"loading",style:{display:this.props.display},children:Object(n.jsx)("div",{className:"black-screen",children:Object(n.jsx)("div",{className:"loading-card",children:Object(n.jsxs)("div",{className:"loading-card-content",children:[Object(n.jsx)("img",{src:"data:image/gif;base64,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",alt:"loading"}),Object(n.jsx)("p",{children:"Loading"})]})})})})}}]),a}(c.a.Component),x=a(146),v=a.p+"static/media/pencil.c8da9798.svg",k=a(22),C=a.n(k),w=(a(101),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){var e="card";return this.props.moderator&&(e+=" moderator"),Object(n.jsx)("div",{className:e,children:this.props.children},this.props.keys)}}]),a}(c.a.Component)),E=(a(52),a(11)),y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).admOrModeratorDisplay=function(){return"adm"===e.props.auth||"moderator"===e.props.auth?{display:"flex"}:{display:"none"}},e.admDisplay=function(){return"adm"===e.props.auth?{display:"flex"}:{display:"none"}},e.moderatorDisplay=function(){return"moderator"===e.props.auth?{display:"flex"}:{display:"none"}},e}return Object(A.a)(a,[{key:"render",value:function(){var e=[];this.props.call.moderator[0]&&(e=Object(n.jsxs)("p",{className:"call-occupation",children:[Object(n.jsx)("b",{children:"Moderador:"}),Object(n.jsx)("span",{className:"card-content-text",children:this.props.call.moderator[0].name})]}));var t=C()(this.props.call.date),a="";return this.props.call.theme[0]&&(a=this.props.call.theme[0].title),Object(n.jsx)(w,{children:Object(n.jsxs)("div",{className:"card-content",children:[Object(n.jsx)(E.b,{className:"edit-button",to:"/available-calls/"+this.props.call._id,children:Object(n.jsx)("img",{src:v,style:this.admDisplay(),alt:"edit"})}),Object(n.jsxs)("div",{className:"card-description",children:[Object(n.jsx)("p",{className:"call-theme",children:a}),e,Object(n.jsxs)("p",{className:"call-occupation",children:[Object(n.jsx)("b",{children:"Ocupa\xe7\xe3o:"}),Object(n.jsx)("span",{className:"card-content-text",children:this.props.call.clients.length})]}),Object(n.jsxs)("p",{className:"call-date",children:[Object(n.jsx)("b",{children:"Data:"}),Object(n.jsxs)("span",{className:"card-content-text",children:[t.format("DD/MM/YYYY")," \xe0s ",t.hours()]})]})]}),Object(n.jsxs)("div",{className:"card-buttons",children:[Object(n.jsx)("button",{className:"moderate",id:this.props.call._id,onClick:this.props.moderate,style:this.admOrModeratorDisplay(),children:"Moderate"}),Object(n.jsx)("button",{className:"join-call",id:this.props.call._id,onClick:this.props.join,children:"Join call"})]})]})},this.props.keys)}}]),a}(c.a.Component),N=a(9),D=a(42),S=a.n(D),M=(a(108),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loading=function(e){n.props.loading&&n.props.loading(e)},n.updateCall=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loading(!0),t=n.props.cookies,(a=Object.assign({},n.state)).date=S()(a.date).utcOffset(-3,!0).format(),a.clients=a.clients.map((function(e,t){return e.email})),a.clients[0]||delete a.clients,a.moderator[0]?a.moderator=a.moderator[0].email:a.moderator="",delete a.id,delete a.themesList,e.next=11,b()({url:"http://localhost:5000/api/adm/call",method:"put",params:{id:n.state.id},data:a,headers:{"Access-Control-Allow-Origin":"*",authToken:t.cookies.authToken}}).then((function(e){alert("Sucesso")})).catch((function(e){alert("Mudan\xe7a inv\xe1lida")}));case 11:n.loading(!1);case 12:case"end":return e.stop()}}),e)}))),n.getCallInfo=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loading(!0),t=n.props.cookies,console.log(n.state.id),e.next=5,b()({url:"http://localhost:5000/api/adm/call",method:"get",params:{id:n.state.id},headers:{"Access-Control-Allow-Origin":"*",authToken:t.cookies.authToken}}).then((function(e){var t=e.data[0];n.setState({theme:t.theme,moderator:t.moderator,clients:t.clients,date:t.date,link:t.link})})).catch((function(e){alert("Mudan\xe7a inv\xe1lida")}));case 5:n.loading(!1);case 6:case"end":return e.stop()}}),e)}))),n.removeUser=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.loading(!0),a=n.props.cookies,s=t.target.value,e.next=6,b()({url:"http://localhost:5000/api/adm/call/client",method:"delete",params:{id:n.state.id,email:s},headers:{"Access-Control-Allow-Origin":"*",authToken:a.cookies.authToken}}).then((function(e){alert("Sucesso")})).catch((function(e){alert("Mudan\xe7a inv\xe1lida")}));case 6:return e.next=8,n.getCallInfo();case 8:return e.next=10,n.props.update();case 10:n.loading(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteCall=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loading(!0),t.preventDefault(),a=n.props.cookies,e.next=5,b()({url:"http://localhost:5000/api/adm/call",method:"delete",params:{id:n.state.id},headers:{"Access-Control-Allow-Origin":"*",authToken:a.cookies.authToken}}).then((function(e){})).catch((function(e){console.log(e)}));case 5:return e.next=7,n.props.update();case 7:n.props.history.push("/available-calls"),n.loading(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.submitChanges=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.updateCall();case 3:return e.next=5,n.props.update();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderUser=function(e,t){var a=[];return Array.isArray(e)&&e.forEach((function(e,s){a.push(n.UserData({name:e.name,key:s,email:e.email,type:t}))})),0===a.length&&a.push(n.UserData({name:"",key:0,email:"",type:t})),a},n.listThemes=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.cookies,n.loading(!0),e.next=4,b()({url:"http://localhost:5000/api/adm/themes",method:"get",headers:{"Access-Control-Allow-Origin":"*",authToken:t.cookies.authToken}}).then((function(e){n.setState({themesList:e.data})})).catch((function(e){alert("Mudan\xe7a inv\xe1lida")}));case 4:n.loading(!1);case 5:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCallInfo();case 2:return e.next=4,n.listThemes();case 4:case"end":return e.stop()}}),e)}))),n.state={id:e.match.params.id,theme:"",date:"",clients:[],moderator:{name:"",email:""},themesList:[]},n}return Object(A.a)(a,[{key:"UserData",value:function(e){var t=this;return"moderator"===e.type?Object(n.jsxs)("div",{className:"edit-user",children:[Object(n.jsx)("span",{children:e.name}),Object(n.jsx)("input",{value:e.email,className:"edit-user-input",onChange:function(e){var a=t.state.moderator;a[0].email=e.target.value,t.setState({moderator:a})}})]},e.key):this.state.clients[e.key]?Object(n.jsxs)("div",{className:"edit-user",children:[Object(n.jsx)("span",{children:e.name}),Object(n.jsx)("input",{value:e.email,className:"edit-user-input",onChange:function(a){var n=t.state.clients;n[e.key].email=a.target.value,t.setState({client:n})}}),Object(n.jsx)("button",{onClick:this.removeUser,value:e.email,children:"Remover"})]},e.key):Object(n.jsxs)("div",{className:"edit-user",children:[Object(n.jsx)("span",{children:e.name}),Object(n.jsx)("input",{value:e.email,className:"edit-user-input",onChange:function(e){var a=t.state.clients;a=[{email:e.target.value}],t.setState({clients:a})}})]},e.key)}},{key:"render",value:function(){var e=this,t=S()(this.state.date);return console.log(this.state.theme),Object(n.jsx)("div",{className:"edit-call",children:Object(n.jsxs)("form",{className:"edit-call-form",children:[Object(n.jsxs)("div",{className:"inputs",children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Tema"}),Object(n.jsxs)("select",{value:this.state.theme,onChange:function(t){e.setState({theme:t.target.value})},children:[Object(n.jsx)("option",{value:"",children:"unknown"}),this.state.themesList.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.title})}))]})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Data"}),Object(n.jsx)("input",{type:"datetime-local",value:t.format("yyyy-MM-DDThh:mm"),className:"call-date",onChange:function(t){e.setState({date:t.target.value})}})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Link"}),Object(n.jsx)("input",{type:"text",value:this.state.link,className:"call-link",onChange:function(t){e.setState({link:t.target.value})}})]}),Object(n.jsx)("p",{children:"Clientes"}),this.renderUser(this.state.clients,"clients"),Object(n.jsx)("button",{className:"add-client",onClick:function(t){t.preventDefault();var a=e.state;a.clients.push({email:""}),e.setState(a)},children:"Adicionar cliente"}),Object(n.jsx)("p",{children:"Moderador"}),this.renderUser(this.state.moderator,"moderator")]}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)("button",{type:"submit",className:"submit-changes",onClick:this.submitChanges,children:"Enviar mudan\xe7a"}),Object(n.jsx)("button",{className:"delete-user",onClick:this.deleteCall,children:" Excluir Call"})]})]})})}}]),a}(c.a.Component)),Q=Object(N.g)(Object(j.a)(M)),T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.props.loading&&s.props.loading(e)},s.listCalls=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.cookies.cookies,s.loading(!0),e.next=4,b()({url:"http://localhost:5000/api/calls",method:"get",headers:{"Access-Control-Allow-Origin":"*",authToken:t.authToken}}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){return{msg:e,status:401}}));case 4:(a=e.sent).data&&s.setState({callsList:a.data}),s.loading(!1);case 7:case"end":return e.stop()}}),e)}))),s.componentDidMount=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.listCalls();case 2:case"end":return e.stop()}}),e)}))),s.joinCall=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.loading(!0),e.next=3,b()({url:"http://localhost:5000/api/call/join",method:"post",headers:{"Access-Control-Allow-Origin":"*",authToken:s.props.cookies.cookies.authToken},data:{callId:t.target.id}}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){return 429===e.response.status?alert("Voc\xea atingiu o seu limite semanal."):429===e.response.status&&alert("Desculpa, mas a Call j\xe1 est\xe1 lotada."),{msg:e}}));case 3:return e.next=5,s.listCalls();case 5:s.loading(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.moderateCall=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.loading(!0),e.next=3,b()({url:"http://localhost:5000/api/call/moderate",method:"post",headers:{"Access-Control-Allow-Origin":"*",authToken:s.props.cookies.cookies.authToken},data:{callId:t.target.id}}).then((function(e){return alert(e.data),{data:e.data,status:e.status}})).catch((function(e){return alert("N\xe3o autorizado"),{status:e.response.status,msg:e}}));case 3:return e.next=5,s.listCalls;case 5:s.loading(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.availableCallsRender=function(e){var t=[];return e&&e.forEach((function(e,a){t.push(Object(n.jsx)(y,{call:e,keys:a.toString(),auth:s.props.auth,choose:s.refresh,moderate:s.moderateCall,join:s.joinCall,loading:s.loading},a.toString()))})),t},s.state={callsList:[]},s}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"available-calls scroll",children:Object(n.jsxs)(N.d,{children:[Object(n.jsx)(N.b,{path:"/available-calls/:id",children:Object(n.jsx)(Q,{update:this.listCalls,loading:this.loading})}),Object(n.jsx)(N.b,{path:"/available-calls",children:Object(n.jsxs)("div",{className:"calls-list-container",children:[Object(n.jsx)("h2",{children:"Calls dispon\xedveis"}),Object(n.jsx)("div",{className:"calls-list",children:this.availableCallsRender(this.state.callsList)})]})})]})})}}]),a}(c.a.Component),B=Object(j.a)(T),R=(a(109),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.props.loading&&s.props.loading(e)},s.listUserCalls=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.loading(!0),t=s.props.cookies.cookies,e.next=4,b()({url:"http://localhost:5000/api/calls/mycalls",method:"get",headers:{"Access-Control-Allow-Origin":"*",authToken:t.authToken}}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){return{msg:e,status:401}}));case 4:(a=e.sent).data&&s.setState({callsList:a.data}),s.loading(!1);case 7:case"end":return e.stop()}}),e)}))),s.componentDidMount=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.listUserCalls();case 2:case"end":return e.stop()}}),e)}))),s.participate=function(e){if(""!=e)return Object(n.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:"Entrar na sala"})},s.myCallsRender=function(e){var t=[];return e.client&&e.client.forEach((function(e,a){var c=C()(e.date),r="";e.theme&&e.theme[0]&&(r=e.theme[0].title);var i="";e.link&&(i=e.link),t.push(Object(n.jsx)(w,{children:Object(n.jsx)("div",{className:"card-content",children:Object(n.jsxs)("div",{className:"card-description",children:[Object(n.jsx)("p",{className:"call-theme",children:r}),[],Object(n.jsxs)("p",{className:"call-occupation",children:[Object(n.jsx)("b",{children:"Ocupa\xe7\xe3o:"}),Object(n.jsx)("span",{className:"card-content-text",children:e.clients.length})]}),Object(n.jsxs)("p",{className:"call-date",children:[Object(n.jsx)("b",{children:"Data:"}),Object(n.jsxs)("span",{className:"card-content-text",children:[c.format("DD/MM/YYYY")," \xe0s ",c.format("HH:mm"),"h"]})]}),s.participate(i)]})})},a))})),e.moderator&&e.moderator.forEach((function(e,a){var c=C()(e.date),r="";e.theme&&e.theme[0]&&(r=e.theme[0].title);var i="";e.link&&(i=e.link),t.push(Object(n.jsx)(w,{moderator:!0,children:Object(n.jsx)("div",{className:"card-content",children:Object(n.jsxs)("div",{className:"card-description",children:[Object(n.jsx)("p",{className:"call-theme",children:r}),Object(n.jsxs)("p",{className:"call-occupation",children:[Object(n.jsx)("b",{children:"Ocupa\xe7\xe3o:"}),Object(n.jsx)("span",{className:"card-content-text",children:e.clients.length})]}),Object(n.jsxs)("p",{className:"call-date",children:[Object(n.jsx)("b",{children:"Data:"}),Object(n.jsxs)("span",{className:"card-content-text",children:[c.format("DD/MM/YYYY")," \xe0s ",c.format("HH:mm"),"h"]})]}),s.participate(i)]})})},"M"+a))})),t},s.state={callsList:[]},s}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"my-calls scroll",children:[Object(n.jsxs)("div",{className:"my-calls-content",children:[Object(n.jsx)("h2",{children:"Minhas Calls"}),Object(n.jsx)("div",{className:"calls-list",children:this.myCallsRender(this.state.callsList)})]}),this.props.loadingscreen]})}}]),a}(c.a.Component)),I=Object(j.a)(R),U=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).updateUser=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.cookies,e.next=3,b()({url:"http://localhost:5000/api/adm/user",method:"put",data:{userData:{name:n.state.name,id:n.state.id,email:n.state.email,authorization:n.state.authorization}},headers:{"Access-Control-Allow-Origin":"*",authToken:t.cookies.authToken}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),n.deleteUser=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.cookies,e.next=3,b()({url:"http://localhost:5000/api/adm/user",method:"delete",data:{userId:n.state.id},headers:{"Access-Control-Allow-Origin":"*",authToken:t.cookies.authToken}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 3:return e.next=5,n.props.update();case 5:case"end":return e.stop()}}),e)}))),n.changePassword=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.props.cookies,e.next=4,b()({url:"http://localhost:5000/api/adm/user/password",method:"put",data:{userData:{id:n.state.id,password:n.state.password}},headers:{"Access-Control-Allow-Origin":"*",authToken:a.cookies.authToken}}).then((function(e){alert("Senha alterada com sucesso")})).catch((function(e){console.log("Houve algum erro no processo de altera\xe7\xe3o da senha")}));case 4:n.setState({password:""});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.submitChanges=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.updateUser();case 3:return e.next=5,n.props.update();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={name:e.name,id:e.id,email:e.email,authorization:e.auth,password:""},n}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"user-card",children:Object(n.jsxs)("div",{className:"user-card-content",children:[Object(n.jsxs)("form",{className:"user-card-form",children:[Object(n.jsxs)("div",{className:"inputs",children:[Object(n.jsx)("input",{type:"text",className:"user-name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}}),Object(n.jsx)("input",{type:"text",className:"user-email",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}}),Object(n.jsxs)("select",{className:"user-auth",value:this.state.authorization,onChange:function(t){e.setState({authorization:t.target.value})},children:[Object(n.jsx)("option",{value:"client",children:"Cliente"}),Object(n.jsx)("option",{value:"moderator",children:"Moderador"}),Object(n.jsx)("option",{value:"adm",children:"Adm"})]})]}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)("button",{type:"submit",className:"submit-changes",onClick:this.submitChanges,children:"Enviar mudan\xe7a"}),Object(n.jsx)("button",{className:"delete-user",onClick:function(){var t=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.deleteUser();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:" Excluir usu\xe1rio"})]})]}),Object(n.jsxs)("form",{className:"change-password",children:[Object(n.jsx)("div",{className:"inputs",children:Object(n.jsx)("input",{type:"password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}})}),Object(n.jsx)("div",{className:"buttons",children:Object(n.jsx)("button",{type:"submit",onClick:this.changePassword,children:"Alterar senha"})})]})]})},this.props.keys)}}]),a}(c.a.Component),L=Object(j.a)(U),Y=(a(55),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.props.loading&&s.props.loading(e)},s.listUsers=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.loading(!0),t=s.props.cookies,e.next=4,b()({url:"http://localhost:5000/api/adm/users",method:"get",headers:{"Access-Control-Allow-Origin":"*",authToken:t.cookies.authToken}}).then((function(e){s.setState({users:e.data})})).catch((function(e){alert(e.toString())}));case 4:s.loading(!1);case 5:case"end":return e.stop()}}),e)}))),s.componentDidMount=function(){s.listUsers()},s.usersRender=function(e){var t=[];return e&&e.forEach((function(e,a){t.push(Object(n.jsx)(x.a,{children:Object(n.jsx)(L,{i:a.toString(),name:e.name,id:e._id,email:e.email,auth:e.authorization,update:s.listUsers})},a.toString()))})),t},s.state={users:[]},s}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"users",children:Object(n.jsxs)("div",{className:"users-section",children:[Object(n.jsx)("h2",{children:"Usu\xe1rios"}),Object(n.jsx)("div",{className:"users-list",children:this.usersRender(this.state.users)})]})})}}]),a}(c.a.Component)),z=Object(j.a)(Y),G=a(72),K=(a(110),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.props.loading&&s.props.loading(e)},s.submitForm=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.props.cookies,s.loading(!0),n={},Object.keys(s.state.fields).map((function(e){n[e]=s.state.fields[e].value})),e.next=7,b()({url:"http://localhost:5000/api/adm"+s.props.path,method:"post",data:n,headers:{"Access-Control-Allow-Origin":"*",authToken:a.cookies.authToken}}).then((function(e){201===e.status?s.setState({created:!0,invalidData:!1}):s.setState({created:!1,invalidData:!0})})).catch((function(e){alert("Acesso n\xe3o autorizado, apenas administradores podem criar chamadas. Por favor, fa\xe7a o seu login novamente"),s.setState({created:!1,invalidData:!1})}));case 7:s.loading(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.componentDidMount=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),s.invalidMessage=function(){if(s.state.invalidData)return Object(n.jsx)("p",{children:"date ou senha n\xe3o encontrados"})},s.createdMessage=function(){if(s.state.created)return Object(n.jsx)("p",{children:"A sua Call foi criada"})},s.field=function(e){var t=s.state.fields[e];return console.log(t),"input"===t.type?Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:t.label}),Object(n.jsx)("input",{type:"text",name:e,value:t.value,onChange:function(a){t.value=a.target.value,s.setState(Object(G.a)({},e,t))}})]}):"select"===t.type?Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:t.label}),Object(n.jsxs)("select",{value:t.value,onChange:function(e){t.value=e.target.value,s.setState({name:t})},children:[Object(n.jsx)("option",{value:"",children:"- - Unknown - -"}),t.values.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.title})}))]})]}):"date"===t.type?Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:t.label}),Object(n.jsx)("input",{type:"datetime-local",name:"date",value:s.state.date,onChange:function(e){t.value=e.target.value,s.setState({name:t})}})]}):void 0},s.state={fields:e.campos},s.state.created=!1,s.state.invalidData=!1,s}return Object(A.a)(a,[{key:"render",value:function(){var e=this,t=[];if(this.props.campos){var a=this.props.campos;t=Object.keys(a).map((function(t){return e.field(t)}))}return Object(n.jsx)("div",{className:"create",children:Object(n.jsxs)("form",{className:"create-form",children:[t,Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"submit",onClick:this.submitForm,children:"Enviar"})}),this.invalidMessage(),this.createdMessage()]})})}}]),a}(c.a.Component)),J=Object(j.a)(K),F=(a(111),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.props.loading?s.props.loading(e):console.log("done")},s.listThemes=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.cookies,console.log("tentando listar"),s.loading(!0),e.next=5,b()({url:"http://localhost:5000/api/adm/themes",method:"get",headers:{"Access-Control-Allow-Origin":"*",authToken:t.cookies.authToken}}).then((function(e){console.log(e.data),s.setState({themesList:e.data})})).catch((function(e){alert("Mudan\xe7a inv\xe1lida")}));case 5:console.log("Algu\xe9m"),s.loading(!1);case 7:case"end":return e.stop()}}),e)}))),s.submitForm=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.props.cookies,s.loading(!0),e.next=5,b()({url:"http://localhost:5000/api/adm/calls",method:"post",data:{date:C()(s.state.date).utcOffset(-3,!0).format(),theme:s.state.theme,link:s.state.link},headers:{"Access-Control-Allow-Origin":"*",authToken:a.cookies.authToken}}).then((function(e){console.log(e),201===e.status?s.setState({created:!0,invalidData:!1}):s.setState({created:!1,invalidData:!0})})).catch((function(e){alert("Acesso n\xe3o autorizado, apenas administradores podem criar chamadas. Por favor, fa\xe7a o seu login novamente"),s.setState({created:!1,invalidData:!1})}));case 5:s.loading(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.componentDidMount=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.listThemes();case 2:case"end":return e.stop()}}),e)}))),s.invalidMessage=function(){if(s.state.invalidData)return Object(n.jsx)("p",{children:"date ou senha n\xe3o encontrados"})},s.createdMessage=function(){if(s.state.created)return Object(n.jsx)("p",{children:"A sua Call foi criada"})},s.state={created:!1,date:"",invalidData:!1,theme:"",themesList:[],link:""},s}return Object(A.a)(a,[{key:"render",value:function(){var e=this.state.themesList;return Object(n.jsx)(J,{loading:this.loading,path:"/api/adm/calls",area:"call",campos:{date:{label:"Data",type:"date",value:""},theme:{label:"Tema",type:"select",values:e}}})}}]),a}(c.a.Component)),H=Object(j.a)(F),P=a(24);var W=function(e){var t=function(t){e.loading&&e.loading(t)},a=Object(s.useState)(),c=Object(P.a)(a,2),r=c[0],i=c[1],o=Object(s.useState)(),d=Object(P.a)(o,2),A=d[0],h=d[1],p=Object(s.useState)(),j=Object(P.a)(p,2),m=j[0],O=j[1],f=Object(s.useState)(),g=Object(P.a)(f,2),x=g[0],v=g[1],k=function(){var a=Object(u.a)(l.a.mark((function a(n){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),t(!0),a.next=4,b()({url:"http://localhost:5000/api/signup",method:"post",data:{name:A,email:r,password:m}}).then((function(e){v("Conta criada com sucesso"),i(""),h(""),O("")})).catch((function(e){409===e.response.status&&v("Email j\xe1 cadastrado")}));case 4:e.update&&e.update(),t(!1);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),C={display:"flex"};return""!==x&&x||(C={display:"none"}),Object(n.jsxs)("form",{className:"signup-form",children:[Object(n.jsx)("p",{style:C,children:x}),Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Nome:"}),Object(n.jsx)("input",{type:"text",name:"name",value:A,onChange:function(e){h(e.target.value)}})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Email:"}),Object(n.jsx)("input",{type:"email",name:"email",value:r,onChange:function(e){i(e.target.value),v("")}})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Senha:"}),Object(n.jsx)("input",{type:"password",name:"password",value:m,onChange:function(e){O(e.target.value)}})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"submit",onClick:k,children:"Enviar"})})]})},Z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).loading=function(t){e.props.loading&&e.props.loading(t)},e}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"register-user",children:[Object(n.jsx)("h2",{children:"Cadastrar usu\xe1rio"}),Object(n.jsx)(x.a,{children:Object(n.jsx)(W,{styleclass:"loginform",loading:this.loading})})]})}}]),a}(c.a.Component),q=Object(j.a)(Z),V=(a(56),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state=n.props.data,n}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsx)(w,{children:Object(n.jsxs)("div",{className:"card-content",children:[Object(n.jsxs)("div",{className:"card-description",children:[Object(n.jsx)("h3",{className:"theme-title",children:this.state.title}),Object(n.jsx)("p",{className:"theme-description",children:Object(n.jsx)("span",{children:this.state.description})})]}),Object(n.jsx)("div",{className:"card-buttons"})]})},this.props.keys)}}]),a}(c.a.Component)),X=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.props.loading&&s.props.loading(e)},s.listThemes=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.cookies.cookies,s.loading(!0),e.next=4,b()({url:"http://localhost:5000/api/adm/themes",method:"get",headers:{"Access-Control-Allow-Origin":"*",authToken:t.authToken}}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){return{msg:e,status:401}}));case 4:(a=e.sent).data&&s.setState({themesList:a.data}),s.loading(!1);case 7:case"end":return e.stop()}}),e)}))),s.componentDidMount=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.listThemes();case 2:case"end":return e.stop()}}),e)}))),s.availableThemesRender=function(e){var t=[];return e&&e.forEach((function(e,a){t.push(Object(n.jsx)(V,{data:e,keys:a.toString(),auth:s.props.auth,choose:s.refresh,loading:s.loading},a.toString()))})),t},s.state={themesList:[]},s}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"available-calls scroll",children:Object(n.jsx)(N.d,{children:Object(n.jsx)(N.b,{path:"/list-themes",children:Object(n.jsxs)("div",{className:"calls-list-container",children:[Object(n.jsx)("h2",{children:"Temas dispon\xedveis"}),Object(n.jsx)("div",{className:"calls-list",children:this.availableThemesRender(this.state.themesList)})]})})})})}}]),a}(c.a.Component),_=Object(j.a)(X),$=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loading=function(e){n.props.loading&&n.props.loading(e)},n.state={update:0},n}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(N.d,{children:[Object(n.jsx)(N.b,{path:"/mycalls",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(I,{auth:this.props.auth,update:this.props.update,loading:this.loading})})}),Object(n.jsx)(N.b,{path:"/available-calls",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(B,{auth:this.props.auth,update:this.loading,loading:this.loading})})}),Object(n.jsx)(N.b,{path:"/create-call",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(H,{loading:this.loading})})}),Object(n.jsx)(N.b,{path:"/register-user",children:Object(n.jsx)(q,{loading:this.loading})}),Object(n.jsx)(N.b,{path:"/users-list",children:Object(n.jsx)(z,{loading:this.loading})}),Object(n.jsx)(N.b,{path:"/create-theme",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(J,{loading:this.loading,path:"/theme",area:"theme",campos:{title:{label:"T\xedtulo",type:"input",value:""},description:{label:"Descri\xe7\xe3o",type:"input",value:""}}})})}),Object(n.jsx)(N.b,{path:"/list-themes",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(_,{loading:this.loading})})})]})}}]),a}(c.a.Component),ee=Object(N.g)(Object(j.a)($)),te=a.p+"static/media/yubbe_logo_long.46a448f2.png",ae=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)(E.b,{to:"/",children:Object(n.jsx)("img",{src:te,alt:"Yubbe Logo",className:"logo"})})})}}]),a}(c.a.Component),ne=a.p+"static/media/profile.5f0b860b.png",se=(a(112),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).selection=function(e){return n.state.path===e?"sidemenu-option selected":"sidemenu-option not-selected"},n.state={path:n.props.history.location.pathname},n}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsxs)("div",{className:"sidemenu-header",children:[Object(n.jsx)("img",{src:ne,className:"profile-image",alt:"profile"}),Object(n.jsx)("span",{className:"username",children:this.props.username})]}),Object(n.jsx)("div",{className:"sidemenu-options",children:this.props.options.map((function(t,a){return Object(n.jsx)(E.b,{className:e.selection(t.path),to:t.path,onClick:function(){e.setState({path:t.path})},children:t.text})}))}),Object(n.jsx)("button",{className:"logout",onClick:this.props.logout,children:"Logout"})]})}}]),a}(c.a.Component)),ce=Object(N.g)(se),re=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.setState({isLoading:e})},s.displayLoading=function(){return s.state.isLoading?"flex":"none"},s.logoutFunc=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.props.cookies.set("authToken","",{path:"/"}),s.setState({session:!1});case 3:case"end":return e.stop()}}),e)}))),s.componentDidMount=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.cookies,e.next=3,O(t.cookies);case 3:(a=e.sent).approved?(s.state.session||s.setState({session:!0}),a.data.name&&s.setState({name:a.data.name}),a.data.authorization&&s.setState({auth:a.data.authorization})):s.state.session&&s.setState({session:!1});case 5:case"end":return e.stop()}}),e)}))),s.redirect=function(){return s.state.session?[]:Object(n.jsx)(N.a,{to:"/login"})},s.updateArea=function(e){s.setState({area:e})},s.options={client:[{path:"/mycalls",text:"Minhas Calls"},{path:"/available-calls",text:"Calls Dispon\xedveis"}],moderator:[{path:"/mycalls",text:"Minhas Calls"},{path:"/available-calls",text:"Calls Dispon\xedveis"}],adm:[{path:"/mycalls",text:"Minhas Calls"},{path:"/available-calls",text:"Calls Dispon\xedveis"},{path:"/create-call",text:"Criar Call"},{path:"/register-user",text:"Cadastrar Usu\xe1rio"},{path:"/users-list",text:"Lista de Usu\xe1rios"},{path:"/create-theme",text:"Criar Tema"},{path:"/list-themes",text:"Lista de Temas"}]};var c=e.cookies,r=!1;return c.get("authToken")&&""!==c.get("authToken")&&(r=!0),s.state={session:r,name:c.get("name")||"",auth:"client",isLoading:!1,area:""},s}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",id:"home",children:[this.redirect(),Object(n.jsx)(ce,{update:this.updateArea,username:this.state.name,options:this.options[this.state.auth],logout:this.logoutFunc}),Object(n.jsx)("div",{className:"content",children:Object(n.jsx)(ee,{area:this.state.area,auth:this.state.auth,username:this.state.name,loading:this.loading})}),Object(n.jsx)(ae,{}),Object(n.jsx)(g,{display:this.displayLoading()})]})}}]),a}(c.a.Component),ie=Object(j.a)(re),oe=(a(113),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loading=function(e){n.setState({isLoading:e})},n.displayLoading=function(){return n.state.isLoading?"flex":"none"},n.state={isLoading:!1},n}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("main",{className:"main-signup",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(W,{styleclass:"loginform"})})}),Object(n.jsx)(ae,{}),Object(n.jsx)(g,{display:this.displayLoading()})]})}}]),a}(c.a.Component)),le=(a(114),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).loading=function(e){s.props.loading&&s.props.loading(e)},s.componentDidMount=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.cookies.cookies,e.next=3,O(t);case 3:(a=e.sent).data&&a.approved?s.setState({session:!0}):s.state.session&&s.setState({session:!1});case 5:case"end":return e.stop()}}),e)}))),s.submitForm=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s.loading(!0),e.next=4,b()({url:"http://localhost:5000/api/login",method:"post",data:{email:s.state.email,password:s.state.password},headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){s.props.cookies.set("authToken",String(e.data.authToken),{path:"/"}),200===e.status?s.setState({session:!0,invalidData:!1}):s.setState({session:!1,invalidData:!0})})).catch((function(e){s.setState({invalidData:!0})}));case 4:s.loading(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.redirect=function(){return s.state.session?Object(n.jsx)(N.a,{to:"/"}):[]},s.invalidMessage=function(){if(s.state.invalidData)return Object(n.jsx)("p",{children:"Email ou senha n\xe3o encontrados"})},s.state={session:!1,email:"",password:"",invalidData:!1},s}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("form",{className:"login-form",children:[this.redirect(),Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Email:"}),Object(n.jsx)("input",{type:"email",name:"email",value:this.state.email,onChange:function(t){e.setState({email:t.target.value,invalidData:!1})}})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("span",{children:"Senha:"}),Object(n.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value,invalidData:!1})}})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"submit",onClick:this.submitForm,children:"Enviar"})}),this.invalidMessage()]})}}]),a}(c.a.Component)),ue=Object(j.a)(le),de=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loading=function(e){n.setState({isLoading:e})},n.displayLoading=function(){return n.state.isLoading?"flex":"none"},n.state={isLoading:!1},n}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",id:"login-page",children:[Object(n.jsx)("main",{className:"main-login",children:Object(n.jsx)(ue,{styleclass:"loginform",loading:this.loading})}),Object(n.jsx)(ae,{}),Object(n.jsx)(g,{display:this.displayLoading()})]})}}]),a}(c.a.Component),Ae=a(73),he=a.n(Ae),pe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(u.a)(l.a.mark((function e(){var t,a,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window,a=t.RTCPeerConnection,n=t.RTCSessionDescription,c=new a({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]}),console.log(c),e.next=6,c.createOffer();case 6:return r=e.sent,e.next=9,c.setLocalDescription(new n(r));case 9:s.socket.emit("event://join-call",r),s.socket.on("event://send-message",(function(e){console.log(e);var t=s.state.chat;t.push({username:e.username,text:e.message}),s.setState({chat:t})})),s.socket.on("event://new-user",function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setRemoteDescription(new n(t.offer));case 2:alert(t.username);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e)}))),s.renderMessages=function(){var e=s.state.chat.map((function(e){return Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:e.username}),Object(n.jsx)("p",{children:e.text})]})}));return Object(n.jsx)("ul",{children:e})},s.sendMessage=function(e){e.preventDefault();var t=s.state.chat;t.push({username:s.state.username,text:s.state.chat_input}),s.setState({chat_input:"",chat:t})},s.state={chat:[],chat_input:"",username:"Guilherme"},s.socket=he()("ws://localhost:5000"),console.log(s.socket),s}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"chat-container",children:[Object(n.jsx)("h1",{children:"Chat"}),this.renderMessages(),Object(n.jsxs)("form",{className:"chat-form",children:[Object(n.jsx)("input",{type:"text",className:"chat-text-input",value:this.state.chat_input,onChange:function(t){e.setState({chat_input:t.target.value})}}),Object(n.jsx)("button",{onClick:this.sendMessage,children:"Enviar"})]})]})}}]),a}(c.a.Component),je=Object(N.g)(function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){var e=new window.RTCPeerConnection;navigator.getUserMedia({video:!0,audio:!0},(function(t){var a=s.state.videos;a.push({id:4321,stream:t,local:!0}),s.setState({videos:a}),t.getTracks().forEach((function(t){return e.addTrack(t)})),e.setLocalDescription(e.createOffer())}),(function(e){console.warn(e.message)})),e.ontrack=function(e){var t=Object(P.a)(e.streams,1)[0],a=document.getElementById("remote-video");a&&(a.srcObject=t)}},s.componentDidUpdate=function(){s.state.videos.map((function(e){var t=document.getElementById("video_"+String(e.id));t&&(t.srcObject=e.stream)}))},s.renderVideos=function(){return console.log(s.state.videos),s.state.videos.map((function(e){return e.local?Object(n.jsx)("video",{autoPlay:!0,id:"video_"+String(e.id),srcObject:e,muted:!0}):Object(n.jsx)("video",{autoPlay:!0,id:"video_"+String(e.id),srcObject:e})}))},s.state={id:e.match.params.id,videos:[],chat:[],username:""},s}return Object(A.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"call-container",children:[Object(n.jsxs)("header",{className:"call-header",children:["Call ",this.state.id]}),this.renderVideos(),Object(n.jsx)(pe,{})]})}}]),a}(c.a.Component));i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(E.a,{children:Object(n.jsxs)(N.d,{children:[Object(n.jsx)(N.b,{path:"/signup",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(oe,{})})}),Object(n.jsx)(N.b,{path:"/login",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(de,{})})}),Object(n.jsx)(N.b,{path:"/call/:id",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(je,{oi:"oi"})})}),Object(n.jsx)(N.b,{path:"/",children:Object(n.jsx)(x.a,{children:Object(n.jsx)(ie,{})})})]})})}),document.getElementById("root"))},52:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},99:function(e,t,a){}},[[144,1,2]]]);
//# sourceMappingURL=main.518a84c2.chunk.js.map